---
title: "Et si Parcoursup était compté"
author:
- Pauline Boyer, pauline.boyer@cnrs.fr
- Julien Gossa, gossa@unistra.fr
- Université de Strasbourg
output:
  word_document: default
  github_document: default
  pdf_document: default
bibliography: 20220630-Parcoursup.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
options(tidyverse.quiet = TRUE)
library(tidyverse)
library(cowplot)
options(dplyr.summarise.inform = FALSE)

theme_set(theme_minimal() + theme(plot.title = element_text(hjust = 0.5, size=rel(0.9))))

knitr::opts_chunk$set(fig.asp=3/4, out.width = "100%", fig.retina = 2, fig.align = "center")
```

```{r wc, warning=FALSE, eval=FALSE}
wordcountaddin:::text_stats()
```



```{r load, cache=FALSE}
source("psdata.R")
```

Projet d'article pour « Orientation post-bac : Parcoursup et l'introduction de la sélection à l'université – Varia (72/juin 2024) ».

Axes : transversal.


## Introduction

Remplaçant APB (Admission Post-Bac) en 2018, Parcoursup est désormais la plateforme
d'affectation des candidates et candidats à l'entrée dans l'enseignement supérieur
en France. De prime abord, la différence entre APB et Parcoursup tient surtout 
à l'organisation globale de la procédure, la façon dont les candidatures sont 
formulées et les propositions retenues, ainsi que les informations disponibles pour faire
ces choix. Si l'algorithme d'affectation est toujours Gale-Shapley, 
la façon dont les différents acteurs appréhendent ce moment est transformé [@bodin_adhesion_2020 ; @bodin_gestion_2019 ; @daverne-bailly_orienter_2020 ; @mizzi_gestion_2022 ; @frouillou_roinstruments_2019 ; @frouillou_les_2020 ; @chauvel_enseignement_2019 ],
encore plus après la réforme du Lycée général [@caillot_analyse_2022]. 

Plus globalement, Parcoursup est aussi le synonyme de transformations dans la 
répartition des néo-bacheliers dans l'enseignement supérieur [@nagui_bechichi_dadmission_2021].
La plateforme est introduite par la loi ORE (Orientation et Réussite des Etudiants),
conçue pour faire face au problème des places dans l'enseignement supérieur mais 
qui ouvre plus de questions qu'elle n'en ferme [@beaud__2018]. 
Elle dispose de deux transformations majeures. 

La première est la suppression de la phrase « _Tout candidat est libre de s’inscrire 
dans l'établissement de son choix_ » du L612-3 du Code de l'éducation ^[https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000042815027/]. 
Cette suppression abaisse le poids des candidats dans les décisions d'affectation, 
puisque l'entrée en Licence n'est plus de droit mais désormais conditionnée par 
l'étude d'un dossier de candidature.

La seconde est l'introduction, dans le même article, de la phrase : 
« _Les capacités d'accueil [...] sont arrêtées chaque année par 
l'autorité académique après dialogue avec chaque établissement._ ». L'autorité 
académique désigne le rectorat, représentant de l’État dans les académies. 
Cet ajout abaisse le poids des établissements dans les décisions d'affection, 
puisqu'ils n'obtiennent pas le contrôle sur les capacités d'accueil en Licence, 
mais en plus le perdent pour les formations sélectives (IUT et double Licences, notamment).

Au delà de l'impact sur les familles et équipes pédagogique, et comme en témoigne 
le nombre de rapports publics à son sujet [@cour_des_comptes_admission_2017 ; @cour_des_comptes_premier_2020 ; @noelle_lenoir_presidente_1er_2019 ; @isabelle_falque-pierrotin_2e_2020 ;@isabelle_falque-pierrotin_3e_2021 ; @isabelle_falque-pierrotin_presidente_4e_2022 ; @juanico_rapport_2020 ; @csore_rapport_2019 ],
Parcoursup est donc 
aussi un outil d'action publique, permettant à l’État de mieux contrôler les flux
du « -3/+3 » notamment via leur évaluation par des indicateurs consultables librement sur la plateforme ministérielle #dataESR^[https://data.enseignementsup-recherche.gouv.fr/pages/home/].
Dans le prolongement des travaux en sociologie de la quantification, ce projet 
d'article propose de s'intéresser à ce que les indicateurs #dataESR nous disent 
des orientations des politiques publiques d'affectation post-bac, ce qui sera 
l'occasion de montrer le passage d'une logique de satisfaction des usagers à une 
logique de gestion des flux. 
Lorsque c'est pertinent, nous tenterons d'opposer une rationalité différente de celle 
des indicateurs officiels via la conception d'indicateurs alternatifs basés sur l'exploration des 
données ouvertes. 
Enfin, nous proposons de montrer la difficulté de construire des indicateurs fiables,
et la possibilité presque systématique de « raconter des histoires différentes » 
à partir des mêmes données.

_Note_ : En discussion avec les éditeurs, l'article peut faire plus ou moins de 
place à chacun des aspects ci-dessus, ou se concentrer sur certaines questions 
plus précises. 
L'article peut être écrit en écriture inclusive, avec ou sans utilisation du 
point médian.


## Méthodologie

Notre méthodologie se situe au croisement des sciences des données et des sciences 
de l'action publique. Elle s'appuie sur deux piliers. D'une part, une veille systématique
des données ouvertes, tableaux de bord, notes d'information et communiqués permet de 
construire un état de l'art des informations publiques disponibles sur l'affectation
post-bac, ce qu'on pourrait qualifier de meta-informations. 
D'autre part, l'analyse de ces données, par des traitements et représentations 
en sources ouvertes, permet de créer de l'information nouvelle pour mieux percevoir
et suivre l'évolution de notre système.

Les données proviennent pour l'essentiel de la plateforme 
de données ouvertes du ministère 
^[https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-parcoursup/]
^[https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-parcoursup_2020/]
^[https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-parcoursup-2019/]
^[https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-parcoursup-2018/]
^[https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-apb_voeux-et-admissions/]
^[https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-taux-poursuite-enseignement-superieur-par-academie/],
également utilisée pour alimenter Parcoursup, 
ses tableaux de bord, et les notes d'information du ministère.
Les traitements sont effectués en R [@xie_r_2019] et les représentations en ggplot [@wickham_ggplot2_2009 ; @wilke_fundamentals_2019]. 
Ils sont mis en ligne et librement accessibles sur la 
plateforme GitHub^[https://github.com/juliengossa/parcoursup/], ainsi que les brouillons exploratoires ^[https://github.com/cpesr/RFC/]. Les irrégularités ou incohérences apparentes sont systématiquement discutées publiquement sur le réseau social Twitter.

## Résumé des conclusions

A ce stade et dans leur état, les données ouvertes ne permettent pas de confirmer 
les discours qui ont accompagné la mise en œuvre de Parcoursup et de la loi ORE :
on n'observe ni d'amélioration de la satisfaction des étudiants ou des formations, 
ni des taux de remplissage ; les taux de poursuite d'étude ne montrent ni ouverture
ni éviction ; la mesure de la sélectivité est trop récente pour observer une mutation.

Cela nous conduit à nous interroger sur l'utilisation que l’État a fait de son
nouveau pouvoir de contrôle sur les admissions post-bac, et à mettre en évidence
des mutation dans l'offre de formation.

\newpage
## Principaux résultats

### De la `satisfaction` au `débit`


```{r aff, fig.cap="Tableaux de bord Parcoursup et vitesse de l'affectation"}
plot_grid(ncol=2,
  plot_grid(ncol=1,
    ggdraw() + draw_image("figs/ps_tdb_2018.png"),
    ggdraw() + draw_image("figs/ps_tdb_2022.png")),
ggdraw() + draw_image("figs/ps_sies.png")
)
```

D'APB à Parcoursup, on observe une évolution des indicateurs de mesure de la 
qualité des affectations. 
Avec APB, le taux de premiers vœux satisfaits mesurait le niveau de satisfaction des candidats. 
Avec Parcoursup, cette mesure est substituée par deux indicateurs : 
le taux de candidats ayant reçu au moins une proposition, et le temps qu'il faut pour la recevoir.
En quelque sorte : la `vitesse` ou `débit`.

La figure 1 gauche montre le tableau de bord Parcoursup en 2018^[https://cache.media.enseignementsup-recherche.gouv.fr/file/mai_2018/61/9/Indicateurs23mai_952619.pdf] 
et 2022^[https://www.parcoursup.fr/tdb-indicateurs/Tableau_de_bord_Admission_2022-06-08.pdf], et 
permet de s'interroger sur le but poursuivi par ces modifications [@julien_gossa_parcoursup_2020].
Notamment, la dernière version ne permet plus de connaitre combien d'affectations ont été définitivement 
acceptées. La figure 1 droite montre la vitesse de l'affectation ^[https://www.enseignementsup-recherche.gouv.fr/sites/default/files/2021-10/nf-sies-2021-22-14419.pdf].


Les mesures de la procédures d'affectation témoignent donc d'une transition d'une
logique de satisfaction des candidats à une logique de gestion des flux, où la 
qualité de l'affectation s'est éclipsée au profit de son débit.


\newpage
### `Places non pourvues`, `Places vacantes` et `Taux de remplissage`

```{r pnp, fig.cap="Taux de remplissage des formations post-bac"}
pnp1 <- ps %>%
  group_by(Session, Filière = case_when(
    Filière.de.formation.très.agrégée == "Licence" ~ "Licence",
    Filière.de.formation.très.agrégée == "BTS" ~ "BTS",
    TRUE ~ "Autres"
    )) %>%
  summarize(pnp = sum(Capacité-Admissions,na.rm = TRUE)/1000) %>%
  ggplot(aes(x=Session,y=pnp, group=Filière, color=Filière)) +
  geom_line() +
  ylab("Places non pourvues (milliers)") +
  expand_limits(y=0) +
  ggtitle("Places non pourvues")

pnp2 <- ps %>%
  group_by(Session, Filière = case_when(
    Filière.de.formation.très.agrégée == "Licence" ~ "Licence",
    Filière.de.formation.très.agrégée == "BTS" ~ "BTS",
    TRUE ~ "Autres"
    )) %>%
  summarize(tdr = sum(Admissions,na.rm=TRUE) / sum(Capacité,na.rm = TRUE)) %>%
  ggplot(aes(x=Session,y=tdr, group=Filière, color=Filière)) +
  geom_line() +
  ylab("Taux de remplissage") +
  expand_limits(y=c(0,1)) +
  ggtitle("Taux de remplissage global")

pnp3 <- ps %>%
  group_by(Session, Filière = case_when(
    Filière.de.formation.très.agrégée == "Licence" ~ "Licence",
    Filière.de.formation.très.agrégée == "BTS" ~ "BTS",
    TRUE ~ "Autres"
    )) %>%
  summarize(tdr = mean(Admissions / Capacité,na.rm = TRUE)) %>%
  ggplot(aes(x=Session,y=tdr, group=Filière, color=Filière)) +
  geom_line() +
  ylab("Taux de remplissage") +
  expand_limits(y=c(0,1)) +
  ggtitle("Taux de rempl. moyen par filière")
  

legend <- get_legend(
  pnp1 + theme(legend.position = "bottom", legend.box.margin = margin(0, 0, 0, 12))
)

plot_grid(ncol=1, rel_heights = c(1,0.1),
          plot_grid(ncol = 2, 
                    pnp1 + theme(legend.position = "none"), 
                    plot_grid(ncol=1, 
                              pnp2 + theme(legend.position = "none"),
                              pnp3 + theme(legend.position = "none"))),
          legend)
```

Le nombre de places proposées mais non pourvues ne fait pas partie des mesures 
officielles, mais est regardé de près notamment par le CESP, qui le perçoit comme 
une marge d'amélioration.
La Figure 2 gauche présente le nombre de `places non pourvues`, calculées comme la différence 
entre les `capacités d'accueil` officielles et les `admissions` dans APB/Parcoursup.

Malgré des tendances clairement apparentes, on ne peut en déduire ni que les 
universités auraient remplies 300 000 places vacantes, ni que les BTS seraient 
en voie de désaffection. 

En effet, les `capacités d'accueil` sont mal déclarées notamment pour les Licences
jusqu'en 2019, et les `admissions` ne sont que partiellement comptabilisées : 
le nombre de `places non pourvues` par Parcoursup n'est pas le nombre réel de 
`places vacantes` dans les formations.

Les figures 2 droite montrent la même information sous la forme de 
`taux remplissage globaux` et `moyens`, racontant à chaque fois une histoire différente. 
Ceci démontre la nécessite de prendre beaucoup de précautions lorsqu'on manipule cette information,
et peut-être la nécessite de créer un véritable indicateur `places vacantes`.



\newpage
## `Taux de poursuite d'étude` et `Nombre de non poursuites d'étude`

```{r pe, fig.cap="Taux de poursuite et nombre de non-poursuites d'étude des néo-bacheliers"}
pe1 <- pe %>% 
  group_by(Session, Série) %>%
  summarise(tpe = sum(Poursuivants, na.rm=TRUE) / sum(Bacheliers, na.rm = TRUE)) %>%
  ggplot(aes(x=Session,y=tpe,group=Série, color=Série)) +
  geom_line() +
  expand_limits(y=c(0,1)) +
  scale_x_discrete(breaks=seq(2010,2020,by=2)) +
  ylab("Taux de poursuite d'étude") +
  ggtitle("Poursuites d'étude")

pe2 <- pe %>% 
  group_by(Session, Série) %>%
  summarise(np = (sum(Bacheliers, na.rm = TRUE) - sum(Poursuivants, na.rm=TRUE)) / 1000) %>%
  mutate(Série=fct_rev(Série)) %>%
  ggplot(aes(x=Session,y=np,group=Série, fill=Série, color=Série)) +
  geom_area(alpha=0.6) +
  expand_limits(y=c(0,1)) +
  scale_x_discrete(breaks=seq(2010,2020,by=2)) +
  ylab("Nombre de non poursuivants (milliers)") +
  ggtitle("Non-poursuites d'étude")

legend <- get_legend(
  pe2 + theme(legend.position = "bottom", legend.box.margin = margin(0, 0, 0, 12))
)

plot_grid(ncol=1, rel_heights = c(1,0.1),
          plot_grid(ncol = 2, 
                    pe1 + theme(legend.position = "none"), 
                    pe2 + theme(legend.position = "none")),
          legend)
```

Un récent jeu de données^[https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-taux-poursuite-enseignement-superieur-par-academie/], permet percevoir les évolutions des poursuites d'étude,
par académie, secteurs et filières du bac et du supérieur.
Ce jeu est cependant aveugle aux autres candidatures, et notamment à celles des étudiants ayant un équivalent de baccalauréat étranger et ceux en reprise d'étude, dont l'admission est pourtant un grand enjeu.

La figure 3 montre à gauche les taux de poursuite d'étude et à droite le nombre 
absolu de non poursuivants. Là encore, selon l'indicateur, on obtient deux récits 
différents, allant de l'amélioration des taux de poursuite pour les bacheliers
professionnels, à une entrée de plus en plus difficile dans le supérieur pour les 
bac généraux et technologiques. 
Il convient donc d'être très prudents, mais on peut néanmoins invalider l'hypothèse
d'une éviction de masse dès 2018.


\newpage
## `Taux d'accès` et mesure de la `sélectivité`



```{r sel, fig.cap="Sélectivité des formations de Parcoursup"}
sel1 <- ps %>%
  mutate(Filière = ifelse(Filière.de.formation.très.agrégée %in% c("Licence","Licence_Las"), "Licence", "Autres formations" )) %>%
  filter(Session %in% c(2020,2021)) %>%
  filter(!is.na(taux.accès)) %>%
  mutate(tda = cut(taux.accès, c(0,0.1,0.3,0.5,0.7,0.90,1,Inf),right=FALSE)) %>%
  group_by(Session=as.character(Session),Filière,tda) %>%
  summarise(nformations = n()) %>%
  ggplot(aes(x=tda,y=nformations,fill=Session)) +
  geom_col(position = "dodge") +
  ylab("Nombre de formations") +
  xlab("Taux d'accès") +
  facet_grid(.~Filière) +
  scale_x_discrete(labels=c("<10%","<30%","<50%","<70%","<90%","<100%","100%")) +
  ggtitle("Nombre de formations par taux d'accès")

sel2 <- ps %>%
  mutate(Filière = ifelse(Filière.de.formation.très.agrégée %in% c("Licence","Licence_Las"), "Licence", "Autres formations" )) %>%
  filter(Session %in% c(2020,2021)) %>%
  filter(!is.na(taux.accès)) %>%
  mutate(tda = cut(taux.accès, c(0,0.1,0.3,0.5,0.7,0.90,1,Inf),right=FALSE)) %>%
  group_by(Session=as.character(Session),Filière,tda) %>%
  summarise(nadmissions = sum(Admissions,na.rm=TRUE)) %>%
  ggplot(aes(x=tda,y=nadmissions,fill=Session)) +
  geom_col(position = "dodge") +
  ylab("Nombre d'admissions") +
  xlab("Taux d'accès") +
  facet_grid(.~Filière) +
  scale_x_discrete(labels=c("<10%","<30%","<50%","<70%","<90%","<100%","100%")) +
  ggtitle("Nombre d'admissions par taux d'accès")

legend <- get_legend(
  sel1 + theme(legend.position = "bottom", legend.box.margin = margin(0, 0, 0, 12))
)

plot_grid(ncol=1, rel_heights = c(1,0.1),
          plot_grid(ncol = 1, 
                    sel1 + theme(legend.position = "none"), 
                    sel2 + theme(legend.position = "none")),
          legend)
```


L'amélioration de l'orientation était une des grandes promesses de Parcoursup.
Cependant, nous ne disposons d'aucune métrique permettant de vérifier cette 
affirmation, tant la notion de « bonne » orientation est vague^[Même en la réduisant au taux de réussite sans redoublement, il est impossible de séparer l'effet d'une meilleure orientation, d'une meilleure pédagogie, ou d'un 
abaissement des exigences.]. 

En revanche, on peut s'intéresser au `taux d'accès`, qui est la mesure officielle
de la sélectivité des formations dans Parcoursup, et donc de 
l'équilibre entre la liberté de choix des candidats (taux très haut) 
et les classements des candidatures par les formations (taux bas). 

Une fois de plus, pour des raisons techniques, cette mesure est délicate, ce 
explique que ce taux ne soit accessible qu'à partir de 2020. Il est donc difficile 
d'évaluer clairement l'impact de Parcoursup sur cet aspect.

La figure 4 montre cependant qu'il existe des « formations sélectives » (gauche) qui ne sélectionnent pas,
comme des « formations non sélectives » (droite) qui sélectionnent. Ce constat invite à 
concevoir un indicateur global de sélectivité de l'affectation post-bac pour 
permettre de suivre l'évolution de notre système, tant sous l'angle des formations 
que des admissions^[et à supprimer la distinctions légales entre « formations sélectives » et « non sélectives », comme le proposent déjà la Cour des comptes et le CESP].






\newpage
## Conclusion

A ce stade et dans leur état, les données ouvertes ne permettent pas de confirmer 
les discours qui ont accompagné la mise en œuvre de Parcoursup et de la loi ORE :
on n'observe ni d'amélioration de la satisfaction des étudiants ou des formations, 
ni des taux de remplissage ; les taux de poursuite d'étude ne montrent ni ouverture
ni éviction ; la mesure de la sélectivité est trop récente pour observer une mutation.

Cela nous conduit à nous interroger sur l'utilisation que l’État a fait de son
nouveau pouvoir de contrôle sur les admissions post-bac. Nous trouvons une piste
en observant l'évolution de la distribution des tailles de formation, que montre
la figure 5.

La croissance du nombre de formations hors Licence s'explique en partie par la volonté 
d'intégrer à Parcoursup toutes les formations post-bac, y compris privées. 
L'énorme croissance spontanée en 2018 du nombre de petites Licences provient 
probablement d'une meilleure déclaration des filières existantes, dans lesquelles 
l'inscription était auparavant faites hors APB. 

Cependant, la diminution des 
admissions dans les formations de très grande taille et la croissance des 
admissions dans les formations de petite taille démontrent une « spécialisation »
croissante de l'offre de formation, en adéquation avec le discours de 
« personnalisation des parcours ». Cette spécialisation est probablement une 
mutation de fond, qui doit nous conduire à interroger la lisibilité de l'offre de 
formation, la complexité des décisions d'affectation, et continuité de diplômes
nationaux équivalents partout sur le territoire. 



```{r odf, fig.cap="Formations et admissions par taille de formation"}
session.palette <- RColorBrewer::brewer.pal(8,"RdBu")[c(1,3,5:8)]
odf1 <- ps %>% 
  mutate(Filière = ifelse(Filière.de.formation.très.agrégée %in% c("Licence","Licence_Las"), "Licence", "Autres formations" )) %>%
  filter(!is.na(taille)) %>%
  group_by(Session, Filière, taille) %>% 
  summarise(nb.formations = n()) %>%
  mutate(Session = as.factor(Session)) %>%
  ggplot(aes(x=taille,y=nb.formations,fill=Session)) +
  geom_col(position="dodge") +
  scale_fill_manual(values=session.palette) +
  ylab("Nombre de formations") +
  facet_wrap(.~Filière, scales = "free_y") +
  scale_x_discrete(labels=c("<35","<70","<140","<280",">=280")) +
  ggtitle("Nombre de formations par taille")


odf2 <- ps %>% 
  mutate(Filière = ifelse(Filière.de.formation.très.agrégée %in% c("Licence","Licence_Las"), "Licence", "Autres formations" )) %>%
  filter(!is.na(taille)) %>%
  group_by(Session, Filière, taille) %>% 
  summarise(nb.formations = sum(Admissions)) %>%
  mutate(Session = as.factor(Session)) %>%
  ggplot(aes(x=taille,y=nb.formations,fill=Session)) +
  geom_col(position="dodge") +
  scale_fill_manual(values=session.palette) +
  ylab("Nombre d'admissions") +
  facet_wrap(.~Filière) +
  scale_x_discrete(labels=c("<35","<70","<140","<280",">=280")) +
  ggtitle("Nombre d'admission par taille des formations")


legend <- get_legend(
  odf1 + theme(legend.position = "bottom", legend.box.margin = margin(0, 0, 0, 12)) +
    guides(fill=guide_legend(nrow=1,byrow=TRUE))
)

plot_grid(ncol=1, rel_heights = c(1,0.1),
          plot_grid(ncol = 1, 
                    odf1 + theme(legend.position = "none"), 
                    odf2 + theme(legend.position = "none")),
          legend)
```




\newpage
# Références